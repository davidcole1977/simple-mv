'use strict';function extend(create,options){if(!sh.isAnObject(options))throw new Error('extend(options) expects a single argument: options {object}');return{create:create.bind(null,options)}}function create(prototype,defaultOptions,options){var component;if(options='object'==typeof options?options:{},sh.overridesProps(prototype,options))throw new Error('create(): Overriding prototype parameters is not permitted');return component=Object.create(prototype),_.assign(component,_.cloneDeep(defaultOptions),_.cloneDeep(options)),component.id=_.uniqueId(component.type),component.subsList=appSubsLists.create(),component.selfSubscriptions={},'function'==typeof options.initialise&&options.initialise.call(component),component}var sh=require('./simple-helpers'),_=require('lodash'),appSubsLists=require('./app-subscriptions');module.exports={create:create,extend:extend};