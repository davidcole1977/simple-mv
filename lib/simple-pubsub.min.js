function create(){var newPubsubList;return newPubsubList=Object.create(pubsubList),newPubsubList.subscriptions={},newPubsubList}var _=require('lodash'),pubsubList,subscription;pubsubList={createSubscription:function(topic,callback){var self=this;return newSubscription={id:_.uniqueId('sub_'),topic:topic,callback:callback,unsubscribe:function(){self.removeSubscription(this)}},this.addSubscription(newSubscription),newSubscription},addSubscription:function(subscription){'undefined'==typeof this.subscriptions[subscription.topic]&&(this.subscriptions[subscription.topic]={}),this.subscriptions[subscription.topic][subscription.id]=subscription},getSubscriptionCount:function(topic){return'undefined'==typeof this.subscriptions[topic]?0:Object.keys(this.subscriptions[topic]).length},removeSubscription:function(subscription){delete this.subscriptions[subscription.topic][subscription.id]}},module.exports={create:create};